{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\dneub\\\\Documents\\\\HW\\\\Week-Twenty-react\\\\GoogleBooks-\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\dneub\\\\Documents\\\\HW\\\\Week-Twenty-react\\\\GoogleBooks-\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\dneub\\\\Documents\\\\HW\\\\Week-Twenty-react\\\\GoogleBooks-\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\dneub\\\\Documents\\\\HW\\\\Week-Twenty-react\\\\GoogleBooks-\\\\client\\\\src\\\\pages\\\\BooksAPI.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport DeleteBtn from \"../components/DeleteBtn\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport API from \"../utils/API\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\nimport { LikeButton } from '../components/LikeButton';\nimport { BookContext } from '../context/BookContext';\nimport Axios from \"axios\";\n\nvar BooksAPI = function BooksAPI() {\n  var apikey = 'AIzaSyCJmxqxCDSrr9lRfewJHGJgR_Rz1nnCjDI';\n\n  var _useState = useState({\n    search: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      bookSearch = _useState2[0],\n      setBookSearch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      result = _useState4[0],\n      setResult = _useState4[1]; // const {books, setBooks} = useContext(BookContext);\n  // const loadBooks = () => {\n  //   API.getBooks()\n  //     .then(res => {\n  //       setBooks(res.data)\n  //     }\n  //     )\n  //     .catch(err => console.log(err));\n  // };\n  // useEffect(() => {\n  //    if (books.length === 0) {\n  //    loadBooks();\n  //    }\n  //  }, []);\n  // const deleteBook = id => {\n  //   API.deleteBook(id)\n  //     .then(res => {\n  //       const remainingBooks = books.filter(book => book._id !== id);\n  //       setBooks(remainingBooks);\n  //     })\n  //     .catch(err => console.log(err));\n  // };\n  // const incrementLikes = id => {\n  //   console.log('id of book to increase likes', id, books);\n  //   const indexToUpdate = books.findIndex(book => book._id === id);\n  //   const newBooks = [...books];\n  //   newBooks[indexToUpdate].likes = newBooks[indexToUpdate].likes ? newBooks[indexToUpdate].likes + 1 : 1;\n  //   setBooks(newBooks);\n  // }\n  // const handleInputChange = event => {\n  //   const { name, value } = event.target;\n  //   setFormData({\n  //     ...formData,\n  //     [name]: value\n  //   })\n  // };\n  //when something changes\n\n\n  var handleInputChangeSearch = function handleInputChangeSearch(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    console.log(name, value);\n    setBookSearch(_objectSpread({}, bookSearch, _defineProperty({}, name, value)));\n  }; //clicking search button\n\n\n  var handleBookSearchClick = function handleBookSearchClick(event) {\n    event.preventDefault();\n    var search = bookSearch.search;\n    console.log('search clicked', search);\n    Axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + search + \"&key=\" + apikey + \"&maxResults=40\").then(function (data) {\n      setResult(data.data.items);\n    });\n  };\n\n  return React.createElement(Container, {\n    fluid: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(Col, {\n    size: \"md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Input, {\n    value: bookSearch.search,\n    onChange: handleInputChangeSearch,\n    name: \"search\",\n    placeholder: \"Title (required)\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(FormBtn, {\n    onClick: handleBookSearchClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Search Book\")))));\n};\n\nexport default BooksAPI;","map":{"version":3,"sources":["C:/Users/dneub/Documents/HW/Week-Twenty-react/GoogleBooks-/client/src/pages/BooksAPI.js"],"names":["React","useContext","useEffect","useState","DeleteBtn","Jumbotron","API","Link","Col","Row","Container","List","ListItem","Input","TextArea","FormBtn","LikeButton","BookContext","Axios","BooksAPI","apikey","search","bookSearch","setBookSearch","result","setResult","handleInputChangeSearch","event","target","name","value","console","log","handleBookSearchClick","preventDefault","get","then","data","items"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from \"react\";\r\nimport DeleteBtn from \"../components/DeleteBtn\";\r\nimport Jumbotron from \"../components/Jumbotron\";\r\nimport API from \"../utils/API\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Col, Row, Container } from \"../components/Grid\";\r\nimport { List, ListItem } from \"../components/List\";\r\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\r\nimport { LikeButton } from '../components/LikeButton';\r\nimport { BookContext } from '../context/BookContext';\r\nimport Axios from \"axios\";\r\n\r\nconst BooksAPI = () => {\r\n  const apikey = 'AIzaSyCJmxqxCDSrr9lRfewJHGJgR_Rz1nnCjDI'\r\n\r\n  const [bookSearch, setBookSearch] = useState({\r\n    search: '',\r\n  });\r\n\r\n  const [result, setResult] = useState([]);\r\n  // const {books, setBooks} = useContext(BookContext);\r\n\r\n  // const loadBooks = () => {\r\n  //   API.getBooks()\r\n  //     .then(res => {\r\n  //       setBooks(res.data)\r\n  //     }\r\n  //     )\r\n  //     .catch(err => console.log(err));\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //    if (books.length === 0) {\r\n  //    loadBooks();\r\n  //    }\r\n  //  }, []);\r\n\r\n  // const deleteBook = id => {\r\n  //   API.deleteBook(id)\r\n  //     .then(res => {\r\n  //       const remainingBooks = books.filter(book => book._id !== id);\r\n  //       setBooks(remainingBooks);\r\n  //     })\r\n  //     .catch(err => console.log(err));\r\n  // };\r\n\r\n  // const incrementLikes = id => {\r\n  //   console.log('id of book to increase likes', id, books);\r\n  //   const indexToUpdate = books.findIndex(book => book._id === id);\r\n  //   const newBooks = [...books];\r\n  //   newBooks[indexToUpdate].likes = newBooks[indexToUpdate].likes ? newBooks[indexToUpdate].likes + 1 : 1;\r\n  //   setBooks(newBooks);\r\n\r\n  // }\r\n\r\n  // const handleInputChange = event => {\r\n  //   const { name, value } = event.target;\r\n  //   setFormData({\r\n  //     ...formData,\r\n  //     [name]: value\r\n  //   })\r\n  // };\r\n\r\n\r\n    //when something changes\r\n    const handleInputChangeSearch = event => { \r\n      const {name, value } = event.target; \r\n      console.log(name, value)\r\n      setBookSearch({ \r\n        ...bookSearch, \r\n        [name]: value\r\n      })\r\n    }\r\n\r\n    //clicking search button\r\n    const handleBookSearchClick = event => { \r\n      event.preventDefault();\r\n      \r\n      const {search} = bookSearch; \r\n      console.log('search clicked', search)\r\n\r\n      Axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + search + \"&key=\" + apikey + \"&maxResults=40\")\r\n        .then(data => { \r\n          setResult(data.data.items)\r\n        })\r\n    }\r\n\r\n    return (\r\n      <Container fluid>\r\n        <Row>\r\n          <Col size=\"md-6\">\r\n           \r\n            <form>\r\n              <Input\r\n                value={bookSearch.search}\r\n                onChange={handleInputChangeSearch}\r\n                name=\"search\"\r\n                placeholder=\"Title (required)\"\r\n              />\r\n             \r\n              <FormBtn\r\n                onClick={handleBookSearchClick}\r\n              >\r\n                Search Book\r\n              </FormBtn>\r\n            </form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n}\r\n\r\nexport default BooksAPI;\r\n"]},"metadata":{},"sourceType":"module"}